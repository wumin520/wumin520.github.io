(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[50],{TvwE:function(e,t,a){e.exports={standardList:"antd-pro-pages-v1-my-order-index-standardList",headerInfo:"antd-pro-pages-v1-my-order-index-headerInfo",listContent:"antd-pro-pages-v1-my-order-index-listContent",listContentItem:"antd-pro-pages-v1-my-order-index-listContentItem",extraContentSearch:"antd-pro-pages-v1-my-order-index-extraContentSearch",tableList:"antd-pro-pages-v1-my-order-index-tableList",tableListOperator:"antd-pro-pages-v1-my-order-index-tableListOperator",tableMargin:"antd-pro-pages-v1-my-order-index-tableMargin",pageBottom:"antd-pro-pages-v1-my-order-index-pageBottom",tableListForm:"antd-pro-pages-v1-my-order-index-tableListForm",submitButtons:"antd-pro-pages-v1-my-order-index-submitButtons",listCard:"antd-pro-pages-v1-my-order-index-listCard",standardListForm:"antd-pro-pages-v1-my-order-index-standardListForm",formResult:"antd-pro-pages-v1-my-order-index-formResult",pro:"antd-pro-pages-v1-my-order-index-pro",goodsName:"antd-pro-pages-v1-my-order-index-goodsName",models:"antd-pro-pages-v1-my-order-index-models",hp_img:"antd-pro-pages-v1-my-order-index-hp_img",btn:"antd-pro-pages-v1-my-order-index-btn"}},qG28:function(e,t,a){"use strict";a.r(t);a("g9YV");var r,n,d,l,o=a("wCAj"),i=(a("IzEo"),a("bx4M")),s=(a("Awhp"),a("KrTs")),m=(a("2qtc"),a("kLXV"),a("Pwec"),a("CtXQ"),a("fV52"),a("3I+P"),a("14J3"),a("BMrR")),p=(a("+L6B"),a("2/Rp")),c=(a("jCWc"),a("kPKH")),u=(a("5NDa"),a("5rEg")),g=a("p0pE"),h=a.n(g),v=a("2Taf"),E=a.n(v),_=a("vZ4D"),f=a.n(_),y=a("l4Ni"),b=a.n(y),x=a("ujKo"),k=a.n(x),w=a("rlhR"),C=a.n(w),D=a("MhPg"),I=a.n(D),L=(a("y8nQ"),a("Vl3Y")),F=(a("OaEy"),a("2fM7")),N=a("q1tI"),S=a.n(N),O=a("MuoO"),V=a("zHco"),M=a("TvwE"),R=a.n(M),B=F["a"].Option,q=L["a"].Item,P=["error","processing","warning","success"],T={page:1,task_id:0,goods_id:0,state:-1,p_order_id:0},A=(r=Object(O["connect"])(function(e){var t=e.order,a=e.loading;return{orderData:t.orderData,loading:a.models.order}}),n=L["a"].create(),r(d=n((l=function(e){function t(e){var a;return E()(this,t),a=b()(this,k()(t).call(this,e)),a.getOrderData=function(e){var t=a.props.dispatch;t({type:"order/orderData",payload:e})},a.handleSearch=function(e){e.preventDefault();var t=a.props,r=t.dispatch,n=t.form;n.validateFields(function(e,t){if(!e){var a=h()({},t,{updatedAt:t.updatedAt&&t.updatedAt.valueOf()});T={page:1,p_order_id:a.p_order_id,task_id:a.task_id,goods_id:a.goods_id,state:a.state},r({type:"order/orderData",payload:T})}})},a.handleFormReset=function(){var e=a.props,t=e.form,r=e.dispatch,n=e.location,d=n.query;t.resetFields(),r({type:"order/orderData",payload:{task_id:d.task_id}})},a.setModal1Visible=function(e){a.setState({modal1Visible:!0,itemImg:e.proof_images})},a.Closable=function(){a.setState({modal1Visible:!1})},a.onChange=function(e){T.page=e,a.getOrderData(T)},a.next=a.next.bind(C()(a)),a.prev=a.prev.bind(C()(a)),a.state={modal1Visible:!1,itemImg:[]},a}return I()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=e.query;T.task_id=t.task_id||0,this.getOrderData(T)}},{key:"next",value:function(){this.slider.slick.slickNext()}},{key:"prev",value:function(){this.slider.slick.slickPrev()}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.orderData,a=t.state_select,r=this.props.location,n=r.query,d=n.task_id;return S.a.createElement(L["a"],{onSubmit:this.handleSearch,layout:"inline"},S.a.createElement(m["a"],{gutter:{md:6,lg:24,xl:48}},S.a.createElement(c["a"],{md:5,sm:24},S.a.createElement(q,{label:"\u8ba2\u5355\u7f16\u53f7"},e("p_order_id")(S.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),S.a.createElement(c["a"],{md:5,sm:24},S.a.createElement(q,{label:"\u63a8\u5e7f\u7f16\u53f7"},e("task_id",{initialValue:d})(S.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),S.a.createElement(c["a"],{md:5,sm:24},S.a.createElement(q,{label:"\u5546\u54c1id"},e("goods_id")(S.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),S.a.createElement(c["a"],{md:5,sm:24},S.a.createElement(q,{label:"\u72b6\u6001"},e("state")(S.a.createElement(F["a"],{style:{width:"100%"},placeholder:"\u5168\u90e8",onChange:this.selectTypeChange},a.length&&a.map(function(e){return S.a.createElement(B,{key:e.value,value:e.value},e.name)}))))),S.a.createElement(c["a"],{md:4,sm:24},S.a.createElement("span",{className:R.a.submitButtons},S.a.createElement(p["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),S.a.createElement(p["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"renderForm",value:function(){return this.renderSimpleForm()}},{key:"render",value:function(){var e=this,t=this.props.orderData,a=t.order_num_info,r=(t.page_info,t.list),n=this.state,d=(n.modal1Visible,n.itemImg,[{title:"\u8ba2\u5355\u7f16\u53f7",dataIndex:"p_order_id",key:"p_order_id",width:150},{title:"\u63a8\u5e7f\u7f16\u53f7",dataIndex:"task_id",key:"task_id",width:90},{key:"goods_id",title:"\u5546\u54c1id",width:110,dataIndex:"goods_id"},{title:"\u5546\u54c1",width:143,render:function(e){return S.a.createElement("a",{className:R.a.pro,href:e.goods_url,rel:"noopener noreferrer",target:"_blank"},S.a.createElement("img",{src:e.img,alt:"a",style:{width:50,heigth:50,marginRight:5}}),S.a.createElement("span",{className:R.a.goodsName}," ",e.title))}},{title:"\u8d2d\u4e70\u4ef7\u683c",width:90,render:function(e){return S.a.createElement("span",null,"\uffe5",e.order_price)}},{title:"\u72b6\u6001",width:90,render:function(e){return S.a.createElement(s["a"],{status:P[e.state],text:e.state_desc})}},{title:"\u65f6\u95f4",width:200,render:function(e){var t=S.a.createElement("span",null,S.a.createElement("span",null,e.paid_datetime?"\u4ed8\u6b3e: "+e.paid_datetime:""),S.a.createElement("br",null),S.a.createElement("span",null," ",e.harvest_time?"\u6536\u8d27: "+e.harvest_time:""),S.a.createElement("br",null));return S.a.createElement("span",null,S.a.createElement("span",null,"\u4e0b\u5355:",e.ordered_datetime),S.a.createElement("br",null),t)}},{title:"\u64cd\u4f5c",width:90,render:function(t){e.state.itemImg;var a,r="/order/productDetail?order_id=".concat(t.order_id);return t.proof_images.length,S.a.createElement("span",null,S.a.createElement("a",{href:r,target:"_blank"},"\u67e5\u770b"," "),S.a.createElement("br",null),a)}}]),l=function(e){var t=e.title,a=e.value,r=e.bordered;return S.a.createElement("div",{className:R.a.headerInfo},S.a.createElement("span",null,t),S.a.createElement("p",null,a),r&&S.a.createElement("em",null))},p=S.a.createElement("div",null);return S.a.createElement(V["a"],{title:"\u8ba2\u5355\u5217\u8868",content:p},S.a.createElement("div",{className:R.a.standardList},S.a.createElement(i["a"],{bordered:!1},S.a.createElement(m["a"],null,S.a.createElement(c["a"],{sm:8,xs:24},S.a.createElement(l,{title:"\u5df2\u4e0b\u5355",value:a.pay_num,bordered:!0})),S.a.createElement(c["a"],{sm:8,xs:24},S.a.createElement(l,{title:"\u5df2\u6536\u8d27",value:a.wait_proof_num,bordered:!0})),S.a.createElement(c["a"],{sm:8,xs:24},S.a.createElement(l,{title:"\u5df2\u5b8c\u6210",value:a.finish_num})))),S.a.createElement("br",null),S.a.createElement(i["a"],null,S.a.createElement("div",{className:R.a.tableList},S.a.createElement("div",{className:R.a.tableListForm},this.renderForm()),S.a.createElement(o["a"],{rowKey:function(e){return e.id},columns:d,dataSource:r,pagination:{defaultCurrent:1,current:t.page_info.current_page,pageSize:t.page_info.per_page,total:t.page_info.total_num,onChange:this.onChange}})))))}}]),t}(N["PureComponent"]),d=l))||d)||d);t["default"]=A}}]);